# 6. Modified Harvard Considerations

[< Scheduling and Execution Model](05-execution-model.md) | [Heterogeneous CU Composition >](07-heterogeneous-cu.md)

## 6.1 Pure vs. Modified Architecture

Pure Harvard architecture has completely separate memory spaces and buses. This is clean but has practical limitations:

- Skills may reference data (a coding skill needs to describe file formats, which are "data knowledge").
- Execution plans (IMEM-CTX) are derived from reasoning about data (DMEM-CONV).
- Some instruction memory content is generated by CUs, which is inherently stochastic.

**Modified Stochastic Harvard** relaxes the pure separation:

- **Unified storage, separated buses:** Instruction and data content may be stored in the same physical database, but accessed through different bus interfaces with different access controls. The isolation is logical, not physical.
- **CU-mediated crossover:** A CU can read data and write execution plans. The data influences the plan, but the plan is written to IMEM-CTX through the CU's own reasoning process, not by direct data→instruction memory copy.
- **Cached instruction context:** Frequently-used instruction fragments may be cached alongside data for performance, as long as the cache respects bus isolation semantics at access time.

This mirrors how modern ARM and other processors implement Modified Harvard: separate L1 instruction and data caches, unified L2/L3 and main memory, with the separation enforced at the cache/bus level rather than at the storage level.

## 6.2 What This Means for Existing Systems

Current systems that approximate (but don't fully implement) this architecture:

**Claude Code / Claude Chat:**
- Has elements of bus separation: system prompt (IMEM-SYS) is distinct from user messages (DMEM-CONV). Tools and skills are defined separately from conversation content.
- The computer tool operates as an ALU — a sandboxed execution environment that runs deterministic operations.
- File access, web search, and code execution are dispatched from the CU to ALU-like components.
- **Gap:** The separation is advisory, not enforced. The model sees the full context window and must choose to treat system content differently from user content. The architecture doesn't prevent prompt injection — it relies on model robustness.

**OpenClaw:**
- Multi-agent routing approximates CU dispatch.
- Docker sandbox approximates ALU isolation.
- Skill system approximates IMEM-SKILL.
- Memory system (MEMORY.md) approximates IMEM-CTX / IMEM-SYS hybrid.
- **Gap:** No bus isolation. Skills, memory, user messages, and tool outputs all flow through the same context window with no architectural boundary. The system is explicitly von Neumann in its prompt composition.

**MCP (Model Context Protocol):**
- Tool definitions approximate the X-Bus dispatch protocol.
- Server-provided resources approximate DMEM segments.
- Prompts provided by MCP servers are treated as instruction-like content.
- **Gap:** MCP doesn't define bus isolation. A malicious MCP server could inject instruction-like content through the resource/tool-output pathway (data bus → instruction bus crossover).
